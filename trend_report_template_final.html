
<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <title>Thesis Topic Analysis Report</title>
    <style>
        body { font-family: Arial, sans-serif; margin: 40px; max-width: 1000px; }
        h1, h2, h3 { color: #2E86C1; }
        ul { line-height: 1.6; }
        .section { margin-bottom: 50px; }
        table { border-collapse: collapse; width: 100%; margin-top: 20px; }
        th, td { border: 1px solid #ddd; padding: 8px; text-align: left; }
        th { background-color: #f2f2f2; }
        img.chart { width: 100%; height: auto; margin-top: 20px; }
    </style>
</head>
<body>
    <h1>ğŸ“„ Thesis Topic Analysis Report</h1>

    <div class="section">
        <h2>ğŸ“ Summary Insights</h2>
        <ul>
            {% for insight in insights %}
            <li>{{ insight }}</li>
            {% endfor %}
        </ul>
    </div>

    {% if plot_b64 %}
    <div class="section">
        <h2>ğŸ“ˆ Topic Trends Over Time</h2>
        <img src="data:image/png;base64,{{ plot_b64 }}" alt="Trend Chart" class="chart">
    </div>
    {% endif %}

    <div class="section">
        <h2>ğŸ† Topics and Thesis Counts</h2>
        <table>
            <thead><tr><th>Topic</th><th>Thesis Count</th></tr></thead>
            <tbody>
                {% for topic, count in topic_counts.items() %}
                <tr><td>{{ topic }}</td><td>{{ count }}</td></tr>
                {% endfor %}
            </tbody>
        </table>
    </div>

    <div class="section">
        <h2>ğŸ“š Theses by Topic</h2>
        {% for topic, titles in theses_by_topic.items() %}
        <h3>{{ topic }}</h3>
        <ul>
            {% for title in titles %}
            <li>{{ title }}</li>
            {% endfor %}
        </ul>
        {% endfor %}
    </div>
</body>
</html>
